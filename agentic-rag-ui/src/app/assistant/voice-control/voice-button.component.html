<button
      class="btn btn-voice"
      [ngClass]="{
        'btn-danger recording': isRecording,
        'btn-outline-secondary': !isRecording && !isProcessing,
        'btn-warning processing': isProcessing
      }"
      (click)="toggleRecording()"
      [disabled]="!isSupported || isProcessing"
      [title]="getTooltip()">
      
      <!-- Icône microphone -->
      <i class="bi" *ngIf="!isProcessing" [ngClass]="{
        'bi-mic-fill': isRecording,
        'bi-mic': !isRecording
      }"></i>
      
      <!-- Spinner pendant transcription -->
      <span class="spinner-border spinner-border-sm" 
            *ngIf="isProcessing"
            role="status">
      </span>
</button>
    
    <!-- Message si non supporté -->
    <span *ngIf="!isSupported" 
          class="text-danger small ms-2">
      <i class="bi bi-exclamation-triangle"></i>
      Micro non disponible
    </span>    